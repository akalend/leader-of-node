# Алгоритм выбора лидирующего узла среди одноганговых узлов

Работает в локальной сети, в данном контексте для маски 255.255.255.0 на 253 IP (можно поправить и на более широкий/узкий диапазон сети).   


*Суть алгоритма в следующем:*

1. Первоночально сканируется сеть по определенному порту (default 3000), и строится карта узлов
2. выбирается лидирующий узел по критерию: наименьший IP адрес
3. если в течении некоторого периода не приходят запросы от главного узла происходит процедура 1
4. если узел лидирующий и приходят запросы с узла имеющей IP младше лидирующего, следовательно запустился узел с более низким IP, по этому необходимо сбросить флаг лидера.


*Реализация*

- запущен отдельный поток, который слушает заданный порт
- этот поток "отсоединяется" от основного потока 
- запущен таймер, который если узел лидирующий, то производит опрос узлов и рассылку уведомлений...
- если узел не лидирующий, то включение hearbeat счетчика.
- при приеме информации от лидирующего узла, hearbeat счетчик сбрасывается
- если hearbeat счетчик превысил заданное значение, то возможно вышел из строя лидирующей узел, по этому запускается процедура сканирования сети и выбора лидирующего узла.


*Типы передаваемых сообщений*

    echo  			- сканирование сети, определение на каких IP запущены узлы
    get_info,       - получение информации с узлов
    average_info,   - рассылка некоторой информации по узлам



*Недоделки или куда рулить*

- заменить signal на sigaction
- нет обработки SIGTERM, мягкого окончания работы алгоритмя, выход по ^C